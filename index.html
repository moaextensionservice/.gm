<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gambia Farmers Database</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
            color: #333;
        }
        
        .header {
            background: linear-gradient(135deg, #2E8B57, #228B22);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
        }
        
        .hero {
            background: url('https://via.placeholder.com/1200x400') no-repeat center center/cover;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }
        
        .hero-content h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .filters {
            background: white;
            padding: 1.5rem;
            margin: 1rem auto;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .filter-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #2E8B57;
        }
        
        .filter-group select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }
        
        .btn {
            background: #2E8B57;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn:hover {
            background: #228B22;
        }
        
        .results {
            background: white;
            padding: 1.5rem;
            margin: 1rem auto;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .results-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #2E8B57;
        }
        
        .export-buttons {
            display: flex;
            gap: 1rem;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .data-table th {
            background: #2E8B57;
            color: white;
            padding: 0.75rem;
            text-align: left;
        }
        
        .data-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #ddd;
        }
        
        .data-table tr:hover {
            background: #f9f9f9;
        }
        
        .extension-worker {
            background: #e8f5e9;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border-left: 4px solid #2E8B57;
        }
        
        .community-garden {
            background: #f0f8ff;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border-left: 4px solid #4682b4;
        }
        
        .farmer-card {
            background: #f9f9f9;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border-left: 4px solid #ffa500;
        }
        
        .section-title {
            color: #2E8B57;
            margin: 1.5rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 2rem;
        }
        
        @media (max-width: 768px) {
            .nav-menu {
                flex-direction: column;
                gap: 1rem;
            }
            
            .filter-row {
                flex-direction: column;
            }
            
            .export-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-section">
                <div class="logo">Gambia Farmers Database</div>
                <nav>
                    <ul class="nav-menu">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#database">Database</a></li>
                        <li><a href="#resources">Resources</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>Connecting Gambian Farmers with Extension Services</h1>
            <p>Commercial Farmers & Community Gardens Database</p>
        </div>
    </section>

    <div class="container">
        <section class="filters">
            <h2 style="color: #2E8B57; margin-bottom: 1rem;">Search Farmers Database</h2>
            <div class="filter-row">
                <div class="filter-group">
                    <label for="region-select">Select Region</label>
                    <select id="region-select" onchange="updateDistricts()">
                        <option value="">All Regions</option>
                        <option value="banjul">Banjul Region</option>
                        <option value="kanifing">Kanifing Region</option>
                        <option value="west-coast">West Coast Region</option>
                        <option value="north-bank">North Bank Region</option>
                        <option value="lower-river">Lower River Region</option>
                        <option value="central-river">Central River Region</option>
                        <option value="upper-river">Upper River Region</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="district-select">Select District</label>
                    <select id="district-select" onchange="updateVillages()">
                        <option value="">All Districts</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="village-select">Select Village/Town</label>
                    <select id="village-select">
                        <option value="">All Villages/Towns</option>
                    </select>
                </div>
            </div>
            <button class="btn" onclick="searchFarmers()">Search Farmers</button>
        </section>

        <section class="results">
            <div class="results-header">
                <h2 style="color: #2E8B57;">Farmers Database Results</h2>
                <div class="export-buttons">
                    <button class="btn" onclick="downloadRegionCSV()">Download Region CSV</button>
                    <button class="btn" onclick="downloadProductionCSV()">Download Production Data</button>
                </div>
            </div>

            <div id="results-container">
                <!-- Results will be populated by JavaScript -->
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2023 Gambia Farmers Database. All rights reserved.</p>
            <p>Department of Agriculture, The Gambia</p>
        </div>
    </footer>

    <script>
        // Complete data structure for all 7 regions
        const farmersData = {
            regions: [
                {
                    id: "banjul",
                    name: "Banjul Region",
                    capital: "Banjul City Council",
                    districts: [
                        {
                            id: "banjul-central",
                            name: "Banjul Central",
                            villages: ["Half-Die", "Campama", "Crab Island", "New Town", "Booreng"],
                            wards: [
                                {
                                    id: "ward-1",
                                    name: "Ward 1",
                                    village: "Half-Die",
                                    extensionWorker: {
                                        name: "Musa Jallow",
                                        office: "Half-Die Extension Office",
                                        contact: "+220 123 4567",
                                        gender: "male"
                                    },
                                    communityGarden: {
                                        village: "Half-Die",
                                        products: ["Tomatoes", "Onions", "Cabbage"],
                                        presidentContact: "+220 234 5678",
                                        productionFrequency: "3 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Fatou Sowe",
                                            location: "Half-Die",
                                            products: ["Vegetables", "Fruits"],
                                            productionCapacity: "5 tons per season",
                                            contact: "+220 345 6789",
                                            employees: 8,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/fatou-sowe"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Lamin Jatta",
                                            location: "Half-Die",
                                            products: ["Rice", "Maize"],
                                            productionCapacity: "12 tons per season",
                                            contact: "+220 456 7890",
                                            employees: 15,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/lamin-jatta"
                                        }
                                    ]
                                },
                                {
                                    id: "ward-2",
                                    name: "Ward 2",
                                    village: "Campama",
                                    extensionWorker: {
                                        name: "Aminata Ceesay",
                                        office: "Campama Extension Office",
                                        contact: "+220 567 8901",
                                        gender: "female"
                                    },
                                    communityGarden: {
                                        village: "Campama",
                                        products: ["Lettuce", "Carrots", "Peppers"],
                                        presidentContact: "+220 678 9012",
                                        productionFrequency: "2 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Ousman Njie",
                                            location: "Campama",
                                            products: ["Groundnuts", "Beans"],
                                            productionCapacity: "8 tons per season",
                                            contact: "+220 789 0123",
                                            employees: 12,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/ousman-njie"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Kaddy Jammeh",
                                            location: "Campama",
                                            products: ["Vegetables", "Herbs"],
                                            productionCapacity: "3 tons per season",
                                            contact: "+220 890 1234",
                                            employees: 6,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/kaddy-jammeh"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    id: "kanifing",
                    name: "Kanifing Region",
                    capital: "Kanifing Municipal Council",
                    districts: [
                        {
                            id: "kanifing-district",
                            name: "Kanifing District",
                            villages: ["Serekunda", "Bakau", "Fajara", "Latrikunda Sabiji", "Bundung"],
                            wards: [
                                {
                                    id: "ward-1",
                                    name: "Ward 1",
                                    village: "Serekunda",
                                    extensionWorker: {
                                        name: "Ebrima Sarr",
                                        office: "Serekunda Extension Office",
                                        contact: "+220 901 2345",
                                        gender: "male"
                                    },
                                    communityGarden: {
                                        village: "Serekunda",
                                        products: ["Tomatoes", "Okra", "Eggplant"],
                                        presidentContact: "+220 012 3456",
                                        productionFrequency: "4 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Mariama Bojang",
                                            location: "Serekunda",
                                            products: ["Fruits", "Vegetables"],
                                            productionCapacity: "7 tons per season",
                                            contact: "+220 123 7890",
                                            employees: 10,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/mariama-bojang"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Modou Faal",
                                            location: "Serekunda",
                                            products: ["Maize", "Millet"],
                                            productionCapacity: "15 tons per season",
                                            contact: "+220 234 8901",
                                            employees: 20,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/modou-faal"
                                        }
                                    ]
                                },
                                {
                                    id: "ward-2",
                                    name: "Ward 2",
                                    village: "Bakau",
                                    extensionWorker: {
                                        name: "Hawa Manneh",
                                        office: "Bakau Extension Office",
                                        contact: "+220 345 9012",
                                        gender: "female"
                                    },
                                    communityGarden: {
                                        village: "Bakau",
                                        products: ["Cabbage", "Lettuce", "Tomatoes"],
                                        presidentContact: "+220 456 0123",
                                        productionFrequency: "3 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Lamin Darboe",
                                            location: "Bakau",
                                            products: ["Rice", "Vegetables"],
                                            productionCapacity: "10 tons per season",
                                            contact: "+220 567 1234",
                                            employees: 14,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/lamin-darboe"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Fatou Jallow",
                                            location: "Bakau",
                                            products: ["Fruits", "Herbs"],
                                            productionCapacity: "4 tons per season",
                                            contact: "+220 678 2345",
                                            employees: 7,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/fatou-jallow"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    id: "west-coast",
                    name: "West Coast Region",
                    capital: "Brikama",
                    districts: [
                        {
                            id: "kombo-south",
                            name: "Kombo South",
                            villages: ["Sanyang", "Gunjur", "Tanji", "Kartong", "Jambanjelly"],
                            wards: [
                                {
                                    id: "ward-1",
                                    name: "Ward 1",
                                    village: "Sanyang",
                                    extensionWorker: {
                                        name: "Omar Jobe",
                                        office: "Sanyang Extension Office",
                                        contact: "+220 789 3456",
                                        gender: "male"
                                    },
                                    communityGarden: {
                                        village: "Sanyang",
                                        products: ["Onions", "Peppers", "Tomatoes"],
                                        presidentContact: "+220 890 4567",
                                        productionFrequency: "2 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Isatou Sanyang",
                                            location: "Sanyang",
                                            products: ["Vegetables", "Legumes"],
                                            productionCapacity: "6 tons per season",
                                            contact: "+220 901 5678",
                                            employees: 9,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/isatou-sanyang"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Bubacarr Sawo",
                                            location: "Sanyang",
                                            products: ["Maize", "Groundnuts"],
                                            productionCapacity: "18 tons per season",
                                            contact: "+220 012 6789",
                                            employees: 22,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/bubacarr-sawo"
                                        }
                                    ]
                                },
                                {
                                    id: "ward-2",
                                    name: "Ward 2",
                                    village: "Gunjur",
                                    extensionWorker: {
                                        name: "Aisha Fofana",
                                        office: "Gunjur Extension Office",
                                        contact: "+220 123 9012",
                                        gender: "female"
                                    },
                                    communityGarden: {
                                        village: "Gunjur",
                                        products: ["Cabbage", "Carrots", "Lettuce"],
                                        presidentContact: "+220 234 0123",
                                        productionFrequency: "3 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Lamin Saine",
                                            location: "Gunjur",
                                            products: ["Rice", "Vegetables"],
                                            productionCapacity: "14 tons per season",
                                            contact: "+220 345 1234",
                                            employees: 18,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/lamin-saine"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Kaddy Sarr",
                                            location: "Gunjur",
                                            products: ["Fruits", "Herbs"],
                                            productionCapacity: "5 tons per season",
                                            contact: "+220 456 2345",
                                            employees: 8,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/kaddy-sarr"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    id: "north-bank",
                    name: "North Bank Region",
                    capital: "Kerewan",
                    districts: [
                        {
                            id: "lower-niumi",
                            name: "Lower Niumi",
                            villages: ["Barra", "Essau", "Albreda", "Kanuma", "Jinack Kajata"],
                            wards: [
                                {
                                    id: "ward-1",
                                    name: "Ward 1",
                                    village: "Barra",
                                    extensionWorker: {
                                        name: "Alieu Sanneh",
                                        office: "Barra Extension Office",
                                        contact: "+220 567 4567",
                                        gender: "male"
                                    },
                                    communityGarden: {
                                        village: "Barra",
                                        products: ["Tomatoes", "Onions", "Peppers"],
                                        presidentContact: "+220 678 5678",
                                        productionFrequency: "2 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Fatou Camara",
                                            location: "Barra",
                                            products: ["Vegetables", "Legumes"],
                                            productionCapacity: "7 tons per season",
                                            contact: "+220 789 6789",
                                            employees: 11,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/fatou-camara"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Ebrima Jeng",
                                            location: "Barra",
                                            products: ["Maize", "Millet"],
                                            productionCapacity: "16 tons per season",
                                            contact: "+220 890 7890",
                                            employees: 19,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/ebrima-jeng"
                                        }
                                    ]
                                },
                                {
                                    id: "ward-2",
                                    name: "Ward 2",
                                    village: "Essau",
                                    extensionWorker: {
                                        name: "Mariama Jallow",
                                        office: "Essau Extension Office",
                                        contact: "+220 901 8901",
                                        gender: "female"
                                    },
                                    communityGarden: {
                                        village: "Essau",
                                        products: ["Cabbage", "Lettuce", "Tomatoes"],
                                        presidentContact: "+220 012 9012",
                                        productionFrequency: "3 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Lamin Colley",
                                            location: "Essau",
                                            products: ["Rice", "Vegetables"],
                                            productionCapacity: "11 tons per season",
                                            contact: "+220 123 0123",
                                            employees: 16,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/lamin-colley"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Aminata Sowe",
                                            location: "Essau",
                                            products: ["Fruits", "Herbs"],
                                            productionCapacity: "6 tons per season",
                                            contact: "+220 234 1234",
                                            employees: 9,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/aminata-sowe"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    id: "lower-river",
                    name: "Lower River Region",
                    capital: "Mansakonko",
                    districts: [
                        {
                            id: "jarra-east",
                            name: "Jarra East",
                            villages: ["Bureng", "Dasilameh", "Dongoroba", "Fellenkoto", "Karantaba Jarreng"],
                            wards: [
                                {
                                    id: "ward-1",
                                    name: "Ward 1",
                                    village: "Bureng",
                                    extensionWorker: {
                                        name: "Musa Ceesay",
                                        office: "Bureng Extension Office",
                                        contact: "+220 345 3456",
                                        gender: "male"
                                    },
                                    communityGarden: {
                                        village: "Bureng",
                                        products: ["Tomatoes", "Onions", "Cabbage"],
                                        presidentContact: "+220 456 4567",
                                        productionFrequency: "3 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Fatou Njie",
                                            location: "Bureng",
                                            products: ["Vegetables", "Fruits"],
                                            productionCapacity: "8 tons per season",
                                            contact: "+220 567 5678",
                                            employees: 12,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/fatou-njie"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Ousman Jatta",
                                            location: "Bureng",
                                            products: ["Rice", "Maize"],
                                            productionCapacity: "13 tons per season",
                                            contact: "+220 678 6789",
                                            employees: 17,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/ousman-jatta"
                                        }
                                    ]
                                },
                                {
                                    id: "ward-2",
                                    name: "Ward 2",
                                    village: "Dasilameh",
                                    extensionWorker: {
                                        name: "Aminata Sarr",
                                        office: "Dasilameh Extension Office",
                                        contact: "+220 789 7890",
                                        gender: "female"
                                    },
                                    communityGarden: {
                                        village: "Dasilameh",
                                        products: ["Lettuce", "Carrots", "Peppers"],
                                        presidentContact: "+220 890 8901",
                                        productionFrequency: "2 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Lamin Bojang",
                                            location: "Dasilameh",
                                            products: ["Groundnuts", "Beans"],
                                            productionCapacity: "9 tons per season",
                                            contact: "+220 901 9012",
                                            employees: 13,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/lamin-bojang"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Kaddy Manneh",
                                            location: "Dasilameh",
                                            products: ["Vegetables", "Herbs"],
                                            productionCapacity: "4 tons per season",
                                            contact: "+220 012 0123",
                                            employees: 7,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/kaddy-manneh"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    id: "central-river",
                    name: "Central River Region",
                    capital: "Janjanbureh & Kuntaur",
                    districts: [
                        {
                            id: "niamina-east",
                            name: "Niamina East",
                            villages: ["Sapu", "Kudang", "Missira", "Jarreng", "Kunting"],
                            wards: [
                                {
                                    id: "ward-1",
                                    name: "Ward 1",
                                    village: "Sapu",
                                    extensionWorker: {
                                        name: "Ebrima Jammeh",
                                        office: "Sapu Extension Office",
                                        contact: "+220 123 1234",
                                        gender: "male"
                                    },
                                    communityGarden: {
                                        village: "Sapu",
                                        products: ["Tomatoes", "Onions", "Peppers"],
                                        presidentContact: "+220 234 2345",
                                        productionFrequency: "2 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Fatou Sanyang",
                                            location: "Sapu",
                                            products: ["Vegetables", "Legumes"],
                                            productionCapacity: "7 tons per season",
                                            contact: "+220 345 3456",
                                            employees: 10,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/fatou-sanyang"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Lamin Faal",
                                            location: "Sapu",
                                            products: ["Maize", "Millet"],
                                            productionCapacity: "15 tons per season",
                                            contact: "+220 456 4567",
                                            employees: 18,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/lamin-faal"
                                        }
                                    ]
                                },
                                {
                                    id: "ward-2",
                                    name: "Ward 2",
                                    village: "Kudang",
                                    extensionWorker: {
                                        name: "Hawa Jallow",
                                        office: "Kudang Extension Office",
                                        contact: "+220 567 5678",
                                        gender: "female"
                                    },
                                    communityGarden: {
                                        village: "Kudang",
                                        products: ["Cabbage", "Lettuce", "Tomatoes"],
                                        presidentContact: "+220 678 6789",
                                        productionFrequency: "3 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Modou Sowe",
                                            location: "Kudang",
                                            products: ["Rice", "Vegetables"],
                                            productionCapacity: "12 tons per season",
                                            contact: "+220 789 7890",
                                            employees: 15,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/modou-sowe"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Isatou Darboe",
                                            location: "Kudang",
                                            products: ["Fruits", "Herbs"],
                                            productionCapacity: "5 tons per season",
                                            contact: "+220 890 8901",
                                            employees: 8,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/isatou-darboe"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    id: "upper-river",
                    name: "Upper River Region",
                    capital: "Basse",
                    districts: [
                        {
                            id: "wuli-east",
                            name: "Wuli East",
                            villages: ["Bantunding", "Wellingara Yare", "Sare Ngai Sillah", "Barrow Kunda East", "Koli Kunda"],
                            wards: [
                                {
                                    id: "ward-1",
                                    name: "Ward 1",
                                    village: "Bantunding",
                                    extensionWorker: {
                                        name: "Omar Colley",
                                        office: "Bantunding Extension Office",
                                        contact: "+220 901 9012",
                                        gender: "male"
                                    },
                                    communityGarden: {
                                        village: "Bantunding",
                                        products: ["Onions", "Peppers", "Tomatoes"],
                                        presidentContact: "+220 012 0123",
                                        productionFrequency: "2 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Fatou Jeng",
                                            location: "Bantunding",
                                            products: ["Vegetables", "Fruits"],
                                            productionCapacity: "6 tons per season",
                                            contact: "+220 123 1234",
                                            employees: 9,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/fatou-jeng"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Lamin Sarr",
                                            location: "Bantunding",
                                            products: ["Rice", "Maize"],
                                            productionCapacity: "14 tons per season",
                                            contact: "+220 234 2345",
                                            employees: 16,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/lamin-sarr"
                                        }
                                    ]
                                },
                                {
                                    id: "ward-2",
                                    name: "Ward 2",
                                    village: "Wellingara Yare",
                                    extensionWorker: {
                                        name: "Aminata Bojang",
                                        office: "Wellingara Yare Extension Office",
                                        contact: "+220 345 3456",
                                        gender: "female"
                                    },
                                    communityGarden: {
                                        village: "Wellingara Yare",
                                        products: ["Lettuce", "Carrots", "Peppers"],
                                        presidentContact: "+220 456 4567",
                                        productionFrequency: "3 times per year"
                                    },
                                    farmers: [
                                        {
                                            type: "commercial",
                                            name: "Ebrima Njie",
                                            location: "Wellingara Yare",
                                            products: ["Groundnuts", "Beans"],
                                            productionCapacity: "8 tons per season",
                                            contact: "+220 567 5678",
                                            employees: 11,
                                            gender: "male",
                                            profile: "https://gambiafarmers.gm/ebrima-njie"
                                        },
                                        {
                                            type: "commercial",
                                            name: "Kaddy Ceesay",
                                            location: "Wellingara Yare",
                                            products: ["Vegetables", "Herbs"],
                                            productionCapacity: "4 tons per season",
                                            contact: "+220 678 6789",
                                            employees: 6,
                                            gender: "female",
                                            profile: "https://gambiafarmers.gm/kaddy-ceesay"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        };

        // Initialize the page with all regions data
        function initializePage() {
            displayAllRegions();
        }

        function displayAllRegions() {
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = '';

            farmersData.regions.forEach(region => {
                const regionHTML = `
                    <div class="region-data">
                        <h3 class="section-title">${region.name} - ${region.capital}</h3>
                `;

                region.districts.forEach(district => {
                    let districtHTML = `
                        <h4 style="color: #228B22; margin: 1rem 0;">${district.name} District</h4>
                    `;

                    district.wards.forEach(ward => {
                        districtHTML += `
                            <div class="ward-data" style="margin-bottom: 2rem; padding: 1rem; border: 1px solid #eee; border-radius: 5px;">
                                <h4 style="color: #2E8B57;">${ward.name} - ${ward.village}</h4>
                                
                                <div class="extension-worker">
                                    <h5>Extension Worker Details</h5>
                                    <p><strong>Name:</strong> ${ward.extensionWorker.name}</p>
                                    <p><strong>Office:</strong> ${ward.extensionWorker.office}</p>
                                    <p><strong>Contact:</strong> ${ward.extensionWorker.contact}</p>
                                    <p><strong>Gender:</strong> ${ward.extensionWorker.gender}</p>
                                </div>
                                
                                <div class="community-garden">
                                    <h5>Community Garden</h5>
                                    <p><strong>Village:</strong> ${ward.communityGarden.village}</p>
                                    <p><strong>Products:</strong> ${ward.communityGarden.products.join(', ')}</p>
                                    <p><strong>President Contact:</strong> ${ward.communityGarden.presidentContact}</p>
                                    <p><strong>Production Frequency:</strong> ${ward.communityGarden.productionFrequency}</p>
                                </div>
                                
                                <h5 style="margin-top: 1rem;">Commercial Individual Farmers</h5>
                        `;

                        ward.farmers.forEach(farmer => {
                            districtHTML += `
                                <div class="farmer-card">
                                    <p><strong>Name:</strong> ${farmer.name} (${farmer.gender})</p>
                                    <p><strong>Location:</strong> ${farmer.location}</p>
                                    <p><strong>Products:</strong> ${Array.isArray(farmer.products) ? farmer.products.join(', ') : farmer.products}</p>
                                    <p><strong>Production Capacity:</strong> ${farmer.productionCapacity}</p>
                                    <p><strong>Contact:</strong> ${farmer.contact}</p>
                                    <p><strong>Employees:</strong> ${farmer.employees}</p>
                                    <p><strong>Profile:</strong> <a href="${farmer.profile}" target="_blank">View Profile</a></p>
                                </div>
                            `;
                        });

                        districtHTML += `</div>`;
                    });

                    resultsContainer.innerHTML += regionHTML + districtHTML + `</div>`;
                });
            });
        }

        // Populate district dropdown based on region selection
        function updateDistricts() {
            const regionSelect = document.getElementById('region-select');
            const districtSelect = document.getElementById('district-select');
            const villageSelect = document.getElementById('village-select');
            
            // Clear existing options
            districtSelect.innerHTML = '<option value="">All Districts</option>';
            villageSelect.innerHTML = '<option value="">All Villages/Towns</option>';
            
            if (regionSelect.value) {
                const region = farmersData.regions.find(r => r.id === regionSelect.value);
                if (region) {
                    region.districts.forEach(district => {
                        const option = document.createElement('option');
                        option.value = district.id;
                        option.textContent = district.name;
                        districtSelect.appendChild(option);
                    });
                }
            }
        }

        // Populate village dropdown based on district selection
        function updateVillages() {
            const regionSelect = document.getElementById('region-select');
            const districtSelect = document.getElementById('district-select');
            const villageSelect = document.getElementById('village-select');
            
            // Clear existing options
            villageSelect.innerHTML = '<option value="">All Villages/Towns</option>';
            
            if (regionSelect.value && districtSelect.value) {
                const region = farmersData.regions.find(r => r.id === regionSelect.value);
                if (region) {
                    const district = region.districts.find(d => d.id === districtSelect.value);
                    if (district) {
                        district.villages.forEach(village => {
                            const option = document.createElement('option');
                            option.value = village.toLowerCase().replace(/ /g, '-');
                            option.textContent = village;
                            villageSelect.appendChild(option);
                        });
                    }
                }
            }
        }

        function searchFarmers() {
            const regionSelect = document.getElementById('region-select');
            const districtSelect = document.getElementById('district-select');
            const villageSelect = document.getElementById('village-select');
            
            const selectedRegion = regionSelect.value;
            const selectedDistrict = districtSelect.value;
            const selectedVillage = villageSelect.value;
            
            // For now, we'll just display all data
            // In a real implementation, this would filter the data based on selections
            displayAllRegions();
        }

        function downloadRegionCSV() {
            let csvContent = "Region,District,Ward,Village,Type,Name,Gender,Products,Production Capacity,Contact,Employees,Profile,Extension Worker,Extension Office,Extension Contact,Community Garden Products,Garden President Contact,Production Frequency\n";
            
            farmersData.regions.forEach(region => {
                region.districts.forEach(district => {
                    district.wards.forEach(ward => {
                        // Add extension worker
                        csvContent += `"${region.name}","${district.name}","${ward.name}","${ward.village}","Extension Worker","${ward.extensionWorker.name}","${ward.extensionWorker.gender}","","","${ward.extensionWorker.contact}","","","${ward.extensionWorker.name}","${ward.extensionWorker.office}","${ward.extensionWorker.contact}",,,\n`;
                        
                        // Add community garden
                        csvContent += `"${region.name}","${district.name}","${ward.name}","${ward.village}","Community Garden","","","${ward.communityGarden.products.join(', ')}","","","","",,,,"${ward.communityGarden.products.join(', ')}","${ward.communityGarden.presidentContact}","${ward.communityGarden.productionFrequency}"\n`;
                        
                        // Add farmers
                        ward.farmers.forEach(farmer => {
                            csvContent += `"${region.name}","${district.name}","${ward.name}","${ward.village}","Commercial Farmer","${farmer.name}","${farmer.gender}","${Array.isArray(farmer.products) ? farmer.products.join(', ') : farmer.products}","${farmer.productionCapacity}","${farmer.contact}","${farmer.employees}","${farmer.profile}",,,,,,\n`;
                        });
                    });
                });
            });
            
            const encodedUri = encodeURI('data:text/csv;charset=utf-8,' + csvContent);
            const link = document.createElement('a');
            link.setAttribute('href', encodedUri);
            link.setAttribute('download', 'gambia_farmers_complete_database.csv');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function downloadProductionCSV() {
            let csvContent = "Region,District,Product,Total Production Capacity,Number of Farmers\n";
            
            const productionData = {};
            
            farmersData.regions.forEach(region => {
                productionData[region.name] = {};
                
                region.districts.forEach(district => {
                    productionData[region.name][district.name] = {};
                    
                    district.wards.forEach(ward => {
                        ward.farmers.forEach(farmer => {
                            const products = Array.isArray(farmer.products) ? farmer.products : [farmer.products];
                            
                            products.forEach(product => {
                                if (!productionData[region.name][district.name][product]) {
                                    productionData[region.name][district.name][product] = {
                                        capacity: 0,
                                        farmers: 0
                                    };
                                }
                                
                                // Extract numeric value from production capacity string
                                const capacityMatch = farmer.productionCapacity.match(/(\d+)/);
                                const capacity = capacityMatch ? parseInt(capacityMatch[1]) : 0;
                                
                                productionData[region.name][district.name][product].capacity += capacity;
                                productionData[region.name][district.name][product].farmers += 1;
                            });
                        });
                    });
                });
            });
            
            // Build CSV content
            Object.keys(productionData).forEach(region => {
                Object.keys(productionData[region]).forEach(district => {
                    Object.keys(productionData[region][district]).forEach(product => {
                        const data = productionData[region][district][product];
                        csvContent += `"${region}","${district}","${product}","${data.capacity} tons","${data.farmers}"\n`;
                    });
                });
            });
            
            const encodedUri = encodeURI('data:text/csv;charset=utf-8,' + csvContent);
            const link = document.createElement('a');
            link.setAttribute('href', encodedUri);
            link.setAttribute('download', 'gambia_farmers_production_capacity.csv');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Initialize the page when loaded
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>

